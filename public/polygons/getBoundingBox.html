<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BBoxes</title>
</head>
<body>
    <script>
        async function run () {
            xhr = new XMLHttpRequest();
            xhr.open("GET",'./pathologic_mapmax.svg',false);
            xhr.overrideMimeType("image/svg+xml");
            xhr.send("");
            document.body
                .appendChild(xhr.responseXML.documentElement);

            const boxes = [];
            const boxesObj = {};
            for (let path of Array.from(document.querySelectorAll('svg path'))){
                const box = path.getBBox();
                const bbox = { x: ~~box.x, y: ~~box.y, width: ~~box.width, height: ~~box.height };
                boxesObj[path.id] = bbox;
                boxes.push({ key: path.id, bbox });
            }
            console.log(JSON.stringify(boxes));
            console.log(JSON.stringify(boxesObj));
        }
        run();
    </script>
</body>
</html>
